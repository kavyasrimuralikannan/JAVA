class Solution {
    public int findMinMoves(int[] machines) 
    {

        int total=0;
         int max=0;
              
        for(int i:machines)
        {
            total+=i;
            max=Math.max(max,i);
        }
        if(total%machines.length!=0)
        {
           return -1;
        }

        int singlemachine=total/machines.length;
        System.out.println(singlemachine);

        int ans=0;
       

        int curr=0;

        for(int i=0;i<machines.length;i++)
        {
            if(machines[i]>singlemachine)
            { 
                curr+=(machines[i]-singlemachine);
            }
            else
            {
                curr+=(machines[i]-singlemachine);
            }
                ans=Math.max(Math.abs(curr),ans);    
        }

        return Math.max(max-singlemachine,ans);
    }
}
